{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@nearata/flarum-ext-cakeday/./src/forum/components/AnniversariesList.js","webpack://@nearata/flarum-ext-cakeday/./src/forum/components/AnniversariesListItem.js","webpack://@nearata/flarum-ext-cakeday/./src/forum/components/AnniversariesPage.js","webpack://@nearata/flarum-ext-cakeday/./src/forum/index.js","webpack://@nearata/flarum-ext-cakeday/./src/forum/states/AnniversariesState.js","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/Component']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/components/Button']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/components/IndexPage']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/extend']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/models/User']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['forum/app']\"","webpack://@nearata/flarum-ext-cakeday/external root \"flarum.core.compat['forum/components/Page']\"","webpack://@nearata/flarum-ext-cakeday/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@nearata/flarum-ext-cakeday/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@nearata/flarum-ext-cakeday/webpack/bootstrap","webpack://@nearata/flarum-ext-cakeday/webpack/runtime/compat get default export","webpack://@nearata/flarum-ext-cakeday/webpack/runtime/define property getters","webpack://@nearata/flarum-ext-cakeday/webpack/runtime/hasOwnProperty shorthand","webpack://@nearata/flarum-ext-cakeday/webpack/runtime/make namespace object","webpack://@nearata/flarum-ext-cakeday/./forum.js"],"sourcesContent":["import AnniversariesListItem from \"./AnniversariesListItem\";\nimport Component from \"flarum/common/Component\";\nimport Button from \"flarum/common/components/Button\";\nimport LoadingIndicator from \"flarum/common/components/LoadingIndicator\";\nimport Placeholder from \"flarum/common/components/Placeholder\";\n\n/**\n * Based on FriendsOfFlarum's UserDirectoryList\n */\n\nexport default class AnniversariesList extends Component {\n    view() {\n        const state = this.attrs.state;\n\n        let loading;\n\n        if (state.isLoading()) {\n            loading = m(LoadingIndicator);\n        } else if (state.hasMoreResults()) {\n            loading = m(\n                Button,\n                {\n                    class: \"Button\",\n                    onclick: state.loadMore.bind(state),\n                },\n                app.translator.trans(\n                    \"nearata-cakeday.forum.page.load_more_button\"\n                )\n            );\n        }\n\n        if (state.isEmpty()) {\n            const text = app.translator.trans(\n                \"nearata-cakeday.forum.page.empty\"\n            );\n            return [\n                m(\".AnniversariesList\", [\n                    m(\"h2\", state.getH2()),\n                    m(Placeholder, { text: text }),\n                ]),\n            ];\n        }\n\n        return [\n            m(\".AnniversariesList\", [\n                m(\"h2\", state.getH2()),\n                m(\"ul.AnniversariesList-users\", [\n                    state.users.map((user) => {\n                        return [\n                            m(\n                                \"li\",\n                                {\n                                    \"data-id\": user.id(),\n                                },\n                                m(AnniversariesListItem, { user: user })\n                            ),\n                        ];\n                    }),\n                ]),\n                m(\".AnniversariesList-loadMore\", loading),\n            ]),\n        ];\n    }\n}\n","import Component from \"flarum/common/Component\";\nimport avatar from \"flarum/common/helpers/avatar\";\n\n/**\n * Based on FriendsOfFlarum's UserDirectoryListItem\n */\n\nexport default class UserDirectoryListItem extends Component {\n    view() {\n        const user = this.attrs.user;\n        const todayYear = window.dayjs().year();\n\n        const getFormattedDate = (date) => {\n            return window.dayjs(date).year(todayYear).format(\"YYYY-MM-DD\");\n        };\n\n        return [\n            m(\".user\", [\n                m(\".avatar\", avatar(user, { title: \"\" })),\n                m(\"\", [\n                    m(\".username\", user.username()),\n                    m(\n                        \".joinTime\",\n                        getFormattedDate(user.attribute(\"joinTime\"))\n                    ),\n                ]),\n            ]),\n        ];\n    }\n}\n","import AnniversariesState from \"../states/AnniversariesState\";\nimport AnniversariesList from \"./AnniversariesList\";\nimport Button from \"flarum/common/components/Button\";\nimport Dropdown from \"flarum/common/components/Dropdown\";\nimport IndexPage from \"flarum/common/components/IndexPage\";\nimport listItems from \"flarum/common/helpers/listItems\";\nimport ItemList from \"flarum/common/utils/ItemList\";\nimport Page from \"flarum/forum/components/Page\";\n\n/**\n * Based on FriendsOfFlarum's UserDirectoryPage\n */\n\nexport default class AnniversariesPage extends Page {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.state = new AnniversariesState();\n        this.state.refreshUsers();\n\n        this.filterOptions = this.state.getFilterOptions();\n        this.currentFilter = this.state.getCurrentFilter();\n    }\n\n    view() {\n        return [\n            m(\".IndexPage\", [\n                IndexPage.prototype.hero(),\n                m(\".container\", [\n                    m(\".sideNavContainer\", [\n                        m(\"nav.IndexPage-nav.sideNav\", [\n                            m(\"ul\", listItems(this.sidebarItems().toArray())),\n                        ]),\n                        m(\".IndexPage-results.sideNavOffset\", [\n                            m(\".IndexPage-toolbar\", [\n                                m(\n                                    \"ul.IndexPage-toolbar-view\",\n                                    listItems(this.viewItems().toArray())\n                                ),\n                                m(\n                                    \"ul.IndexPage-toolbar-action\",\n                                    listItems(this.actionItems().toArray())\n                                ),\n                            ]),\n                            m(AnniversariesList, { state: this.state }),\n                        ]),\n                    ]),\n                ]),\n            ]),\n        ];\n    }\n\n    sidebarItems() {\n        return IndexPage.prototype.sidebarItems();\n    }\n\n    viewItems() {\n        const items = new ItemList();\n\n        items.add(\n            \"sort\",\n            m(\n                Dropdown,\n                {\n                    buttonClassName: \"Button\",\n                    label: this.filterOptions[this.currentFilter],\n                },\n                Object.keys(this.filterOptions).map((value) => {\n                    const label = this.filterOptions[value];\n                    const active = this.currentFilter === value;\n\n                    return m(\n                        Button,\n                        {\n                            icon: active ? \"fas fa-check\" : true,\n                            active: active,\n                            onclick: () => {\n                                this.changeFilter(value);\n                            },\n                        },\n                        label\n                    );\n                })\n            )\n        );\n\n        return items;\n    }\n\n    actionItems() {\n        const items = new ItemList();\n\n        items.add(\n            \"refresh\",\n            m(Button, {\n                title: app.translator.trans(\"core.forum.index.refresh_tooltip\"),\n                icon: \"fas fa-sync\",\n                class: \"Button Button--icon\",\n                onclick: () => {\n                    this.state.refreshUsers();\n                },\n            })\n        );\n\n        return items;\n    }\n\n    changeFilter(option) {\n        this.state.changeFilter(option);\n        this.currentFilter = this.state.getCurrentFilter();\n    }\n}\n","import AnniversariesPage from \"./components/AnniversariesPage\";\nimport Badge from \"flarum/common/components/Badge\";\nimport IndexPage from \"flarum/common/components/IndexPage\";\nimport LinkButton from \"flarum/common/components/LinkButton\";\nimport { extend } from \"flarum/common/extend\";\nimport User from \"flarum/common/models/User\";\nimport app from \"flarum/forum/app\";\n\nconst memberDay = (today, joinTime) => {\n    const days = app.forum.attribute(\"cakedayNewMembersDays\");\n    const endDate = window.dayjs(joinTime).add(days, \"day\");\n\n    return today < endDate;\n};\n\napp.initializers.add(\"nearata-cakeday\", () => {\n    app.routes.nearata_cakeday_anniversaries = {\n        path: \"/anniversaries\",\n        resolver: {\n            onmatch: function (args) {\n                if (!app.forum.attribute(\"cakedayPageEnabled\")) {\n                    return m.route.SKIP;\n                }\n\n                if (!app.session.user) {\n                    return m.route.SKIP;\n                }\n\n                if (!app.session.user.attribute(\"canNearataCakedayViewPage\")) {\n                    return m.route.SKIP;\n                }\n\n                return AnniversariesPage;\n            },\n        },\n    };\n\n    extend(IndexPage.prototype, \"navItems\", (items) => {\n        if (!app.forum.attribute(\"cakedayPageEnabled\")) {\n            return;\n        }\n\n        if (!app.session.user) {\n            return;\n        }\n\n        if (!app.session.user.attribute(\"canNearataCakedayViewPage\")) {\n            return;\n        }\n\n        items.add(\n            \"nearataCakedayAnniversaries\",\n            m(\n                LinkButton,\n                {\n                    href: app.route(\"nearata_cakeday_anniversaries\"),\n                    icon: \"fas fa-birthday-cake\",\n                },\n                app.translator.trans(\"nearata-cakeday.forum.page.title\")\n            )\n        );\n    });\n\n    extend(User.prototype, \"badges\", function (items) {\n        const joinTime = this.joinTime();\n\n        const join = window.dayjs(joinTime);\n        const today = window.dayjs();\n\n        let label = app.translator.trans(\"nearata-cakeday.forum.anniversary\");\n\n        const isMemberDay = app.forum.attribute(\"cakedayNewMembers\");\n        const isSameYear =\n            today.year() === join.year() && memberDay(today, joinTime);\n\n        if (isMemberDay && (isSameYear || memberDay(today, join))) {\n            if (app.forum.attribute(\"cakedayNewMembersLabel\")) {\n                label = app.translator.trans(\n                    \"nearata-cakeday.forum.new_member_label\"\n                );\n            }\n        } else {\n            const isMonth = join.month() === today.month();\n            const isDay = join.date() === today.date();\n\n            if (!(isMonth && isDay)) {\n                return;\n            }\n        }\n\n        const bgColor = app.forum.attribute(\"cakedayBgColor\");\n        const textColor = app.forum.attribute(\"cakedayTextColor\");\n\n        items.add(\n            \"nearataCakeday\",\n            m(Badge, {\n                type: \"cakeday\",\n                icon: \"fas fa-birthday-cake\",\n                label: label,\n                style: `background-color:${bgColor};color:${textColor}`,\n            })\n        );\n    });\n});\n","const trans = (key) => {\n    return app.translator.trans(\n        `nearata-cakeday.forum.page.filter_options.${key}`\n    );\n};\n\nconst text1 = (dayjs) => {\n    const date = dayjs.format(\"ll\");\n\n    return app.translator.trans(\n        \"nearata-cakeday.forum.page.anniversaries_for_label\",\n        { date }\n    );\n};\n\nconst text2 = (dayjs1, dayjs2) => {\n    const date1 = dayjs1.format(\"ll\");\n    const date2 = dayjs2.format(\"ll\");\n\n    return app.translator.trans(\n        \"nearata-cakeday.forum.page.anniversaries_between_label\",\n        { date1, date2 }\n    );\n};\n\n/**\n * Based on FriendsOfFlarum's UserDirectoryState\n */\n\nexport default class AnniversariesState {\n    constructor() {\n        this.users = [];\n        this.loading = false;\n        this.moreResults = false;\n        this.currentFilter = \"today\";\n    }\n\n    loadUsers() {\n        app.store.find(\"users\", this.getParams()).then(\n            (users) => {\n                this.users.push(...users);\n                this.moreResults =\n                    !!users.payload.links && !!users.payload.links.next;\n                this.loading = false;\n                m.redraw();\n            },\n            () => {\n                this.loading = false;\n                m.redraw();\n            }\n        );\n    }\n\n    refreshUsers() {\n        this.loading = true;\n\n        this.clearUsers();\n        this.loadUsers();\n    }\n\n    hasMoreResults() {\n        return this.moreResults;\n    }\n\n    clearUsers() {\n        this.users = [];\n        m.redraw();\n    }\n\n    isLoading() {\n        return this.loading;\n    }\n\n    loadMore() {\n        this.loading = true;\n        this.loadUsers();\n    }\n\n    getParams() {\n        const params = {};\n\n        params[\"page\"] = { offset: this.users.length };\n        params[\"sort\"] = \"joinedAt\";\n        params[\"filter\"] = { cakeday: this.currentFilter };\n\n        return params;\n    }\n\n    getFilterOptions() {\n        return {\n            today: trans(\"today\"),\n            tomorrow: trans(\"tomorrow\"),\n            upcoming: trans(\"upcoming\"),\n            all: trans(\"all\"),\n        };\n    }\n\n    getCurrentFilter() {\n        return this.currentFilter;\n    }\n\n    changeFilter(option) {\n        this.currentFilter = option;\n        this.refreshUsers();\n    }\n\n    isEmpty() {\n        return this.users.length === 0 && !this.isLoading();\n    }\n\n    getH2() {\n        const today = window.dayjs();\n        const tomorrow = today.add(1, \"day\");\n        const upcoming = tomorrow.add(1, \"day\");\n\n        let text = \"\";\n        switch (this.currentFilter) {\n            case \"today\":\n                text = text1(today);\n                break;\n            case \"tomorrow\":\n                text = text1(tomorrow);\n                break;\n            case \"upcoming\":\n                const upcomingTo = upcoming.add(1, \"week\");\n                text = text2(upcoming, upcomingTo);\n                break;\n            case \"all\":\n                const start = today.startOf(\"year\");\n                const end = today.endOf(\"year\");\n                text = text2(start, end);\n                break;\n            default:\n                break;\n        }\n\n        return text;\n    }\n}\n","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/components/Badge'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/IndexPage'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Placeholder'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['common/models/User'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/Page'];","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/forum';\n"],"names":["AnniversariesListItem","Component","Button","LoadingIndicator","Placeholder","AnniversariesList","view","state","attrs","loading","isLoading","m","hasMoreResults","onclick","loadMore","bind","app","translator","trans","isEmpty","text","getH2","users","map","user","id","avatar","UserDirectoryListItem","todayYear","window","dayjs","year","getFormattedDate","date","format","title","username","attribute","AnniversariesState","Dropdown","IndexPage","listItems","ItemList","Page","AnniversariesPage","oninit","vnode","refreshUsers","filterOptions","getFilterOptions","currentFilter","getCurrentFilter","prototype","hero","sidebarItems","toArray","viewItems","actionItems","items","add","buttonClassName","label","Object","keys","value","active","icon","changeFilter","option","Badge","LinkButton","extend","User","memberDay","today","joinTime","days","forum","endDate","initializers","routes","nearata_cakeday_anniversaries","path","resolver","onmatch","args","route","SKIP","session","href","join","isMemberDay","isSameYear","isMonth","month","isDay","bgColor","textColor","type","style","key","text1","text2","dayjs1","dayjs2","date1","date2","moreResults","loadUsers","store","find","getParams","then","push","payload","links","next","redraw","clearUsers","params","offset","length","cakeday","tomorrow","upcoming","all","upcomingTo","start","startOf","end","endOf","setPrototypeOf","_inheritsLoose","subClass","superClass","create","constructor","_setPrototypeOf","o","p","__proto__"],"sourceRoot":""}